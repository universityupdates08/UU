<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <title>UNIVERSITY UPDATES</title> <!-- Tailwind CSS --> <script src="https://cdn.tailwindcss.com"></script> <!-- Google Fonts --> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet"> <style> :root { --primary-color: #4a90e2; --secondary-color: #50e3c2; --card-bg: rgba(255, 255, 255, 0.85); } * { box-sizing: border-box; } body { font-family: 'Poppins', sans-serif; margin: 0; padding: 15px; text-align: left; background: linear-gradient(135deg, #f0f0f0 100%, #f8f8f8 1000%); background-image: repeating-linear-gradient( 45deg, rgba(200,200,200,0.1) 0px, rgba(200,200,200,0.1) 2px, transparent 2px, transparent 10px ); background-size: 200% 200%; animation: moveZigzag 20s linear infinite; } @keyframes moveZigzag { 0% { background-position: 0 0; } 100% { background-position: 200px 200px; } } header img { height: 60px; margin-bottom: 5px; filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.4)); } .container { max-width: 900px; margin: 0 auto; } .main-header h1 { font-size: 3em; font-weight: 700; margin: 0 0 20px; background: -webkit-linear-gradient(45deg, #ff8008 0%, #ffc837 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-shadow: 0px 4px 8px rgba(0,0,0,0.3); } </style> </head> <body> <header class="w-full border-b bg-white/70 sticky top-0 z-30"> <div class="max-w-6xl mx-auto flex items-center justify-center p-4"> <img src="https://i.ibb.co/nMC0877T/UNIVERSITY-UPDATES-LOGO-removebg-preview.png" alt="Logo"> </div> </header> 
<style>
  .container {
    text-align: center; /* centers inline elements like h1 */
    margin-top: 20px;   /* optional spacing */
  }
  .main-header h1 {
    font-size: 32px;
    font-weight: bold;
  }
  .topbar{display:flex;gap:8px;align-items:center}
</style>

<div class="container">
  <div class="main-header">
    <h1>Mathematical Physics & Newtonian Mechanics (B.Sc. NEP 1st Semester)</h1>
  </div>
</div>


    <p class="small">Each question has 4 options. Select an answer to see immediate feedback. Click "Reveal Explanation" to view explanations. Submit to see total score.</p>
    
    <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Mathematical Physics & Newtonian Mechanics</title>
  <style>
    :root{--accent:#2563eb}
    body{font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:#f9fafb;color:#0f172a;max-width:1100px;margin:20px auto;padding:18px}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
    h1{font-size:24px;margin:0;text-align:center;width:100%}
    .tabs{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin:16px 0}
    .tabBtn{padding:8px 14px;border-radius:8px;border:none;background:#94a3b8;color:white;cursor:pointer;font-weight:700}
    .tabBtn.active{background:var(--accent)}
    .controls{display:flex;gap:8px;align-items:center;justify-content:center;flex-wrap:wrap;margin-bottom:14px}
    .action{padding:8px 12px;border-radius:8px;border:none;background:var(--accent);color:white;cursor:pointer;font-weight:600}
    .small{font-size:13px;color:#475569}
    #scoreDisplay{font-weight:700;margin-left:12px}
    #quiz{margin-top:12px}
    .card{background:white;border-radius:10px;padding:12px;margin-bottom:12px;box-shadow:0 6px 18px rgba(2,6,23,0.06);text-align:left}
    .qnum{font-weight:700;margin-bottom:6px}
    .question{margin-bottom:8px}
    .options label{display:block;padding:8px;border-radius:8px;margin-bottom:6px;border:1px solid #e6eef0;cursor:pointer}
    .options input{margin-right:8px}
    .reveal{background:transparent;border:1px dashed var(--accent);padding:6px 8px;border-radius:8px;cursor:pointer}
    .explain{display:none;margin-top:8px;padding:8px;background:#f1f9f9;border-left:4px solid var(--accent)}
    .feedback{margin-top:6px;font-weight:700}
    .correct{background:#d1fae5 !important;border-color:#10b981 !important}
    .incorrect{background:#fee2e2 !important;border-color:#ef4444 !important}
    .notattempt{border:1px dashed #f59e0b !important;background:#fffbea !important;padding:6px;border-radius:6px;margin-top:6px;font-size:13px;color:#92400e}
    @media (max-width:700px){body{padding:12px}}
  </style>
</head>
<body>
  <header>
    <h1>B.Sc. NEP 1st Sem (Mathematical Physics & Newtonian Mechanics)</h1>
  </header>

  <div class="tabs" role="tablist" aria-label="Quizzes">
    <button class="tabBtn active" data-quiz="1">Quiz 1 — Math Physics Basics</button>
    <button class="tabBtn" data-quiz="2">Quiz 2 — Vectors & Calculus</button>
    <button class="tabBtn" data-quiz="3">Quiz 3 — Kinematics</button>
    <button class="tabBtn" data-quiz="4">Quiz 4 — Dynamics & Newton</button>
    <button class="tabBtn" data-quiz="5">Quiz 5 — Energy, Momentum, Rotation</button>
  </div>


  <div class="controls">
    <button id="langBtn" class="action">Language: Switch to हिंदी</button>
  </div>

  <div id="quiz" aria-live="polite"></div>
  
  <div class="controls">
      <button id="submitBtn" class="action">Submit Quiz</button>
    <button id="resetBtn" class="action">Reset Quiz</button>
    <div id="scoreDisplay" class="small">Score: —</div>
    </div>


<script>
/* Utility */
function clone(o){ return JSON.parse(JSON.stringify(o)); }

/* ==========================
   Templates per quiz
   Each template array contains distinct conceptual Qs.
   We'll expand each to 100 by cycling and appending unique numbers.
   ========================== */

/* Quiz 1: Mathematical Physics Basics */
const TEMPLATES_Q1 = [
  {q_en:"What is the derivative of sin x?", q_hi:"sin x का अवकलज क्या है?", options:["cos x","-cos x","sin x","-sin x"], answer:0, explain_en:"d/dx(sin x)=cos x.", explain_hi:"sin x का अवकलज cos x है।"},
  {q_en:"Integral of 1/x dx is?", q_hi:"1/x का समाकलन क्या है?", options:["ln|x| + C","1/x + C","x + C","e^x + C"], answer:0, explain_en:"∫1/x dx = ln|x| + C.", explain_hi:"∫1/x dx = ln|x| + C।"},
  {q_en:"Which coordinate system is best for circular symmetry?", q_hi:"गोलाकार सममिति के लिए कौन सा निर्देशांक सिस्टम उपयुक्त है?", options:["Cartesian","Spherical","Cylindrical","Parabolic"], answer:2, explain_en:"Cylindrical suits problems with axial symmetry.", explain_hi:"धुरी सममिति वाले प्रश्नों में सिलिंड्रिकल उपयुक्त है।"},
  {q_en:"What is a partial derivative?", q_hi:"आंशिक अवकलज क्या है?", options:["Derivative wrt one variable holding others constant","Second derivative","Integral","Derivative wrt time only"], answer:0, explain_en:"Partial derivative holds other variables constant.", explain_hi:"आंशिक अवकलज अन्य चर स्थिर रखकर लिया जाता है।"},
  {q_en:"Gradient of a scalar field gives?", q_hi:"स्केलर क्षेत्र का ग्रेडिएंट क्या देता है?", options:["Vector pointing to max increase","Scalar","Matrix","Zero"], answer:0, explain_en:"Gradient points in direction of greatest increase.", explain_hi:"ग्रेडिएंट अधिकतम वृद्धि की दिशा दिखाता है।"},
  {q_en:"Laplace transform is used to solve ____?", q_hi:"लाप्लास ट्रांसफ़ॉर्म किसे हल करने के लिए उपयोग होता है?", options:["Algebraic eqns","Differential eqns","Geometry problems","Counting"], answer:1, explain_en:"Laplace transform simplifies solving ODEs with initial conditions.", explain_hi:"लाप्लास ODEs को आरंभिक स्थितियों के साथ हल करने में सहायक है।"},
  {q_en:"Which series represents e^x?", q_hi:"e^x का कौन सा श्रेणी प्रतिनिधित्व है?", options:["Sum x^n/n!","Sum n!/x^n","Harmonic series","Geometric series"], answer:0, explain_en:"e^x = Σ x^n / n! (n=0→∞).", explain_hi:"e^x = Σ x^n / n!।"},
  {q_en:"Orthogonal functions have ____ inner product", q_hi:"ऑर्थोगोनल कार्यों का आंतरिक गुणनफल कैसा होता है?", options:["Zero","One","Infinity","Undefined"], answer:0, explain_en:"Orthogonal functions have zero inner product.", explain_hi:"ऑर्थोगोनल फ़ंक्शन्स का आंतरिक गुणनफल शून्य होता है।"},
  {q_en:"Taylor series approximates functions near ____", q_hi:"टेलर श्रेणी किसके पास फ़ंक्शन का अनुमान लगाती है?", options:["A point","Infinity","Zero only","Negative numbers"], answer:0, explain_en:"Taylor series expands about a point (usually x0).", explain_hi:"टेलर श्रेणी किसी बिंदु के आस-पास का विस्तार है।"},
  {q_en:"A linear differential equation has superposition property: True/False", q_hi:"रेखीय अवकल समीकरण में सुपरपोजिशन गुणधर्म होता है: सही/गलत?", options:["True","False","Depends on order","Only for homogeneous"], answer:0, explain_en:"Linear homogeneous DEs obey superposition.", explain_hi:"रेखीय समरूप DEs में सुपरपोजिशन लागू होता है।"}
];

/* Quiz 2: Vectors & Calculus Applications */
const TEMPLATES_Q2 = [
  {q_en:"Magnitude of vector (3,4) is?", q_hi:"वेक्टर (3,4) की परिमाण क्या है?", options:["5","7","1","25"], answer:0, explain_en:"sqrt(3^2+4^2)=5.", explain_hi:"√(9+16)=5।"},
  {q_en:"Dot product of perpendicular vectors is?", q_hi:"लंबवत वेक्टरों का डॉट प्रोडक्ट क्या होता है?", options:["Zero","One","Negative","Undefined"], answer:0, explain_en:"Perpendicular vectors have zero dot product.", explain_hi:"लंबवत वेक्टरों का डॉट प्रोडक्ट 0 होता है।"},
  {q_en:"Curl of a gradient field is?", q_hi:"ग्रेडिएंट क्षेत्र का कर्ल क्या होता है?", options:["Zero","Non-zero","Infinity","Undefined"], answer:0, explain_en:"Curl(∇φ)=0 for scalar φ.", explain_hi:"ग्रेडिएंट का कर्ल शून्य होता है।"},
  {q_en:"Which operation gives divergence?", q_hi:"कौन सा ऑपरेशन विचलन देता है?", options:["Dot of grad with vector (∇·A)","Curl of A","Cross product","Integral"], answer:0, explain_en:"Divergence is ∇·A.", explain_hi:"विचलन ∇·A के रूप में है।"},
  {q_en:"Line integral over a conservative field depends on?", q_hi:"कंसर्वेटिव क्षेत्र में लाइन इंटीगरल किस पर निर्भर करता है?", options:["End points only","Path","Time","Mass"], answer:0, explain_en:"Conservative fields → path independent; depends on endpoints.", explain_hi:"कंसर्वेटिव क्षेत्र में केवल आरंभ/अंत बिंदु मायने रखते हैं।"},
  {q_en:"Unit vector i is direction of ____?", q_hi:"इकाई वेक्टर i किस दिशा का प्रतिनिधित्व करता है?", options:["x-axis","y-axis","z-axis","None"], answer:0, explain_en:"i is unit vector along x-axis.", explain_hi:"i x-अक्ष की इकाई दिशा है।"},
  {q_en:"Gradient of scalar potential gives ____", q_hi:"स्केलर पोटेंशियल का ग्रेडिएंट क्या देता है?", options:["Field vector","Scalar","Matrix","Tensor"], answer:0, explain_en:"Field = ∇(potential).", explain_hi:"फील्ड = ∇(पोटेंशियल)।"},
  {q_en:"Stokes' theorem relates line integral to ____", q_hi:"स्टोक्स का प्रमेय लाइन समाकलन को किससे जोड़ता है?", options:["Surface integral of curl","Volume integral","Point value","Time integral"], answer:0, explain_en:"Stokes: ∮C A·dl = ∬S (∇×A)·dS.", explain_hi:"स्टोक्स: लाइन इंटीग्रल = कर्ल का सतह इंटीग्रल।"},
  {q_en:"Divergence theorem relates flux to ____", q_hi:"विचलन प्रमेय फ्लक्स को किससे जोड़ता है?", options:["Volume integral of divergence","Line integral","Time derivative","Temperature"], answer:0, explain_en:"Gauss theorem: ∬S A·dS = ∭V ∇·A dV.", explain_hi:"गॉस सिद्धांत: सतह फ्लक्स = आयतन का विचलन इंटीग्रल।"},
  {q_en:"Directional derivative measures change along ____", q_hi:"दिशात्मक अवकलज किसके साथ परिवर्तन मापता है?", options:["A given direction","All directions","Time only","Magnitude only"], answer:0, explain_en:"Directional derivative along a given unit vector.", explain_hi:"किसी निर्दिष्ट दिशा में परिवर्तन को मापता है।"}
];

/* Quiz 3: Kinematics */
const TEMPLATES_Q3 = [
  {q_en:"Displacement vs distance: which can be negative?", q_hi:"विस्थापन बनाम दूरी: कौन नकारात्मक हो सकता है?", options:["Distance","Displacement","Both","Neither"], answer:1, explain_en:"Displacement is vector — can be negative.", explain_hi:"विस्थापन सदिश है, नकारात्मक हो सकता है।"},
  {q_en:"Equation for constant acceleration: v = ?", q_hi:"स्थिर त्वरण के लिए v = ?", options:["u + at","u + a/t","u at","u - at"], answer:0, explain_en:"v = u + a t (standard kinematics).", explain_hi:"v = u + a t।"},
  {q_en:"Projectile motion: horizontal velocity ____", q_hi:"प्रक्षेप्य गति में क्षैतिज वेग ____ रहता है?", options:["Constant","Increases","Decreases","Zero"], answer:0, explain_en:"No horizontal acceleration (neglecting air resistance).", explain_hi:"हवा प्रतिरोध न मानें तो क्षैतिज त्वरण शून्य रहता है।"},
  {q_en:"Range of projectile depends on ____ (flat ground)?", q_hi:"प्रक्षेप्य की रेंज किस पर निर्भर करती है (समतल भूमि)?", options:["Initial speed and angle","Mass only","Shape only","Time of day"], answer:0, explain_en:"Range = (u^2 sin2θ)/g (for level ground).", explain_hi:"रेंज = (u^2 sin2θ)/g।"},
  {q_en:"Uniform circular motion: speed is ____ but velocity is ____", q_hi:"एकसमान परिक्रमण में: गति ____ है पर वेग ____ है?", options:["Constant, changing direction","Changing, constant direction","Constant, constant","Zero, constant"], answer:0, explain_en:"Speed constant but direction (velocity) changes → acceleration toward center.", explain_hi:"गति स्थिर पर दिशा बदलती है → केन्द्र की ओर त्वरण।"},
  {q_en:"Acceleration is derivative of ____", q_hi:"त्वरण किसका अवकलज है?", options:["Velocity","Position","Jerk","Distance"], answer:0, explain_en:"a = dv/dt.", explain_hi:"a = dv/dt।"},
  {q_en:"Average velocity = ?", q_hi:"औसत वेग = ?", options:["Displacement/time","Distance/time","Speed*time","Distance*displacement"], answer:0, explain_en:"Average velocity = total displacement / total time.", explain_hi:"औसत वेग = कुल विस्थापन/कुल समय।"},
  {q_en:"If acceleration is zero, motion is ____", q_hi:"यदि त्वरण शून्य है, गति ____ है?", options:["Uniform velocity","Accelerating","Oscillatory","Stopped only"], answer:0, explain_en:"Zero acceleration → constant velocity (could be zero or nonzero).", explain_hi:"शून्य त्वरण → निरंतर वेग।"},
  {q_en:"Free fall acceleration near Earth ≈", q_hi:"पृथ्वी के पास मुक्त पतन त्वरण लगभग है", options:["9.8 m/s^2","1 m/s^2","100 m/s^2","0.98 m/s^2"], answer:0, explain_en:"g ≈ 9.8 m/s² downward.", explain_hi:"g ≈ 9.8 m/s² नीचे की ओर।"},
  {q_en:"Relative velocity of A wrt B = ?", q_hi:"A का B के सापेक्ष सापेक्ष वेग = ?", options:["vA - vB","vA + vB","vB - vA","vA * vB"], answer:0, explain_en:"v_AB = v_A - v_B.", explain_hi:"v_AB = v_A - v_B।"}
];

/* Quiz 4: Dynamics & Newton */
const TEMPLATES_Q4 = [
  {q_en:"Newton's second law: F = ?", q_hi:"न्यूटन का दूसरा नियम: F = ?", options:["ma","mv","m/a","m+ a"], answer:0, explain_en:"F = ma (force equals mass times acceleration).", explain_hi:"F = ma।"},
  {q_en:"Weight of object is force due to ____", q_hi:"वस्तु का भार किसके कारण बल है?", options:["Gravity","Magnetism","Friction","Tension"], answer:0, explain_en:"Weight = m g due to gravity.", explain_hi:"भार = m g (गुरुत्वाकर्षण के कारण)।"},
  {q_en:"Friction opposes ____", q_hi:"घर्षण किसका विरोध करता है?", options:["Relative motion","Gravity","Time","Mass"], answer:0, explain_en:"Friction opposes relative motion between surfaces.", explain_hi:"घर्षण सतहों के बीच सापेक्ष गति का विरोध करता है।"},
  {q_en:"Static friction vs kinetic friction: which is usually larger?", q_hi:"स्थैतिक घर्षण और गतिज घर्षण में कौन अधिक होता है?", options:["Static","Kinetic","Equal","None"], answer:0, explain_en:"Max static friction usually > kinetic friction.", explain_hi:"स्थैतिक घर्षण सामान्यतः गतिज घर्षण से अधिक होता है।"},
  {q_en:"Centripetal force acts ____", q_hi:"केंद्रीत्व बल किस दिशा में कार्य करता है?", options:["Toward center","Away from center","Along motion","Perpendicular to plane"], answer:0, explain_en:"Centripetal force is radially inward for circular motion.", explain_hi:"केंद्रीत्व बल वृत्तीय गति में केंद्र की ओर होता है।"},
  {q_en:"Uniform circular motion acceleration magnitude = ?", q_hi:"सममित परिक्रमण में त्वरण का परिमाण = ?", options:["v^2 / r","v r","r/v","v^2*r"], answer:0, explain_en:"a = v^2 / r toward centre.", explain_hi:"a = v^2 / r।"},
  {q_en:"Third law pairs act on ____", q_hi:"तीसरे नियम जोड़ों पर कार्य करते हैं ____", options:["Different bodies","Same body","No body","Time"], answer:0, explain_en:"Action-reaction act on different bodies.", explain_hi:"क्रिया-प्रतिक्रिया अलग-अलग पिंडों पर लगती हैं।"},
  {q_en:"If net force is zero, momentum is ____", q_hi:"यदि शुद्ध बल शून्य है, तो संवेग क्या है?", options:["Conserved","Increasing","Decreasing","Undefined"], answer:0, explain_en:"No net external force → momentum constant.", explain_hi:"बाहरी शुद्ध बल नहीं → संवेग संरक्षित।"},
  {q_en:"Normal reaction acts ____ to surface", q_hi:"सामान्य प्रतिक्रिया सतह के सापेक्ष कैसी होती है?", options:["Perpendicular","Parallel","Oblique","Random"], answer:0, explain_en:"Normal reaction is perpendicular to contact surface.", explain_hi:"नॉर्मल प्रतिक्रिया सतह के लम्बवत होती है।"},
  {q_en:"Tension in ideal string transmits ____", q_hi:"आदर्श रस्सी में तनाव क्या संप्रेषित करता है?", options:["Same throughout","Varies along length","Zero","Depends on mass"], answer:0, explain_en:"Ideal massless string → same tension throughout.", explain_hi:"आदर्श (द्रव्यमानरहित) रस्सी में तनाव समान रहता है।"}
];

/* Quiz 5: Work, Energy, Momentum & Rotation */
const TEMPLATES_Q5 = [
  {q_en:"Work done by constant force F over displacement s = ?", q_hi:"स्थिर बल F द्वारा विस्थापन s पर किया गया कार्य = ?", options:["F·s (dot product)","F + s","F × s","F/s"], answer:0, explain_en:"Work = F·s = |F||s|cosθ.", explain_hi:"कार्य = F·s = |F||s|cosθ।"},
  {q_en:"Kinetic energy of mass m and speed v = ?", q_hi:"द्रव्यमान m और वेग v का गतिज ऊर्जा = ?", options:["1/2 mv^2","mv","m+v","mv^2"], answer:0, explain_en:"KE = 1/2 m v^2.", explain_hi:"KE = 1/2 m v^2।"},
  {q_en:"Potential energy near Earth's surface = ?", q_hi:"पृथ्वी की सतह के पास स्थितिज ऊर्जा = ?", options:["mgh","1/2 mv^2","mg/v","m/g"], answer:0, explain_en:"PE = m g h (for near-surface approx).", explain_hi:"PE = m g h।"},
  {q_en:"Law of conservation of energy: total energy ____", q_hi:"ऊर्जा संरक्षण का नियम: कुल ऊर्जा ____", options:["Constant","Grows","Decreases","Cycles"], answer:0, explain_en:"In isolated system total energy conserved.", explain_hi:"इकाईत प्रणाली में कुल ऊर्जा संरक्षित रहती है।"},
  {q_en:"Linear momentum p = ?", q_hi:"सरेख संवेग p = ?", options:["mv","m+v","m/v","1/2 mv^2"], answer:0, explain_en:"p = m v.", explain_hi:"p = m v।"},
  {q_en:"Impulse equals change in ____", q_hi:"इम्पल्स किसमें परिवर्तन के बराबर होता है?", options:["Momentum","Energy","Power","Velocity only"], answer:0, explain_en:"Impulse = Δp.", explain_hi:"इम्पल्स = Δp।"},
  {q_en:"Moment of inertia depends on ____", q_hi:"जड़त्वीय गुणांक किस पर निर्भर करता है?", options:["Mass distribution about axis","Mass only","Speed","Time"], answer:0, explain_en:"I depends on how mass is distributed relative to rotation axis.", explain_hi:"I अक्ष के सापेक्ष द्रव्यमान वितरण पर निर्भर करता है।"},
  {q_en:"Torque τ = ?", q_hi:"टॉर्क τ = ?", options:["r × F (cross product)","r · F","r + F","r/F"], answer:0, explain_en:"Torque is r × F (vector).", explain_hi:"टॉर्क = r × F।"},
  {q_en:"Rotational kinetic energy = ?", q_hi:"आवर्तकीय गतिज ऊर्जा = ?", options:["1/2 I ω^2","1/2 m v^2","I ω","mgh"], answer:0, explain_en:"Rotational KE = 1/2 I ω^2.", explain_hi:"रोटेशनल KE = 1/2 I ω^2।"},
  {q_en:"Angular momentum L = ?", q_hi:"कोणीय संवेग L = ?", options:["I ω","m v","r × p","Both A and C depending"], answer:3, explain_en:"For rigid body L=Iω; for particle L = r × p.", explain_hi:"ठोस पिंड: L=Iω; कण: L = r × p।"}
];

/* Build quizzes: expand templates to 100 questions each and append index to ensure uniqueness */
function makeQuizFromTemplates(templates, quizNumber){
  const qlist = [];
  let i = 0;
  while (qlist.length < 100){
    const base = clone(templates[i % templates.length]);
    // Append index tag to avoid exact duplicates and to ensure uniqueness across position
    base.q_en = (base.q_en.endsWith('?') ? base.q_en : base.q_en + '?') + ` (Q${qlist.length+1})`;
    base.q_hi = (base.q_hi.endsWith('?') ? base.q_hi : base.q_hi + '?') + ` (Q${qlist.length+1})`;
    // Ensure options are simple strings
    base.options = base.options.map(opt => typeof opt === 'string' ? opt : opt);
    qlist.push(base);
    i++;
  }
  return qlist;
}

/* Build all quiz data */
const QUIZ_DATA = {
  1: makeQuizFromTemplates(TEMPLATES_Q1, 1),
  2: makeQuizFromTemplates(TEMPLATES_Q2, 2),
  3: makeQuizFromTemplates(TEMPLATES_Q3, 3),
  4: makeQuizFromTemplates(TEMPLATES_Q4, 4),
  5: makeQuizFromTemplates(TEMPLATES_Q5, 5),
};

/* State and UI hooks */
let currentQuiz = 1;
let language = 'en';
const quizDiv = document.getElementById('quiz');
const scoreDisplay = document.getElementById('scoreDisplay');

/* Render current quiz */
function renderQuiz(){
  const QUESTIONS = QUIZ_DATA[currentQuiz];
  quizDiv.innerHTML = '';
  QUESTIONS.forEach((q, idx) => {
    const card = document.createElement('div'); card.className = 'card';
    const qnum = document.createElement('div'); qnum.className = 'qnum'; qnum.innerText = `Q${idx+1}`;
    const question = document.createElement('div'); question.className = 'question'; question.innerText = language==='en' ? q.q_en : q.q_hi;
    const options = document.createElement('div'); options.className = 'options';
    q.options.forEach((opt, oidx) => {
      const id = `quiz${currentQuiz}_q${idx}_opt${oidx}`;
      const lab = document.createElement('label'); lab.htmlFor = id;
      const radio = document.createElement('input'); radio.type = 'radio'; radio.name = `quiz${currentQuiz}_q${idx}`; radio.id = id; radio.value = oidx;
      if (q.selected === oidx) radio.checked = true;
      lab.appendChild(radio);
      const span = document.createElement('span'); span.innerText = opt;
      lab.appendChild(span);
      options.appendChild(lab);
    });
    const feedback = document.createElement('div'); feedback.className = 'feedback'; feedback.id = `feedback${idx}`;
    const revealBtn = document.createElement('button'); revealBtn.className = 'reveal'; revealBtn.innerText = language==='en' ? 'Reveal Explanation' : 'व्याख्या देखें';
    const explain = document.createElement('div'); explain.className = 'explain'; explain.innerText = language==='en' ? q.explain_en : q.explain_hi;
    revealBtn.addEventListener('click', ()=>{ explain.style.display = explain.style.display === 'block' ? 'none' : 'block'; });
    card.appendChild(qnum); card.appendChild(question); card.appendChild(options); card.appendChild(feedback); card.appendChild(revealBtn); card.appendChild(explain);
    quizDiv.appendChild(card);
  });
}

/* Immediate feedback when an option is selected */
quizDiv.addEventListener('change', (e) => {
  if (!e.target || !e.target.name) return;
  const name = e.target.name;
  const match = name.match(/quiz(\d+)_q(\d+)/);
  if (!match) return;
  const qz = parseInt(match[1],10);
  const qIndex = parseInt(match[2],10);
  const selected = parseInt(e.target.value,10);
  const QUESTIONS = QUIZ_DATA[qz];
  QUESTIONS[qIndex].selected = selected;
  const correct = QUESTIONS[qIndex].answer;
  const nodes = document.querySelectorAll(`input[name="quiz${qz}_q${qIndex}"]`);
  nodes.forEach(opt => {
    const parent = opt.parentElement;
    parent.classList.remove('correct','incorrect');
    if (parseInt(opt.value,10) === correct) parent.classList.add('correct');
    if (parseInt(opt.value,10) === selected && selected !== correct) parent.classList.add('incorrect');
  });
  const fb = document.getElementById(`feedback${qIndex}`);
  if (selected === correct) { fb.innerText = language==='en' ? 'Correct ✅' : 'सही ✅'; fb.style.color = '#10b981'; }
  else { fb.innerText = language==='en' ? 'Incorrect ❌' : 'गलत ❌'; fb.style.color = '#ef4444'; }
});

/* Language toggle */
document.getElementById('langBtn').addEventListener('click', () => {
  language = language === 'en' ? 'hi' : 'en';
  document.getElementById('langBtn').innerText = language === 'en' ? 'Language: Switch to हिंदी' : 'भाषा: Switch to English';
  renderQuiz();
});

/* Submit current quiz */
document.getElementById('submitBtn').addEventListener('click', () => {
  const QUESTIONS = QUIZ_DATA[currentQuiz];
  let score = 0;
  QUESTIONS.forEach((q, idx) => {
    if (q.selected === q.answer) score++;
    const explainBoxes = document.querySelectorAll('.explain');
    if (explainBoxes[idx]) explainBoxes[idx].style.display = 'block';
    if (q.selected === undefined){
      const card = document.querySelectorAll('.card')[idx];
      if (card && !card.querySelector(`#na${idx}`)){
        const na = document.createElement('div'); na.id = `na${idx}`; na.className = 'notattempt';
        na.innerText = language === 'en' ? 'Not Attempted' : 'उत्तर नहीं दिया';
        card.appendChild(na);
      }
    } else {
      const na = document.getElementById(`na${idx}`);
      if (na) na.remove();
    }
  });
  scoreDisplay.innerText = `Score: ${score} / ${QUESTIONS.length}`;
  alert((language === 'en' ? 'Your score: ' : 'आपका स्कोर: ') + `${score} / ${QUESTIONS.length}`);
});

/* Reset current quiz */
document.getElementById('resetBtn').addEventListener('click', () => {
  QUIZ_DATA[currentQuiz].forEach(q => delete q.selected);
  scoreDisplay.innerText = 'Score: —';
  renderQuiz();
});

/* Tab switching */
document.querySelectorAll('.tabBtn').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.tabBtn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    currentQuiz = parseInt(btn.dataset.quiz,10);
    scoreDisplay.innerText = 'Score: —';
    renderQuiz();
    document.getElementById('langBtn').innerText = language === 'en' ? 'Language: Switch to हिंदी' : 'भाषा: Switch to English';
  });
});

/* Initialize */
renderQuiz();
</script>
</body>
</html>
