<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Exam Schedule Portal</title>

<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>

<style>

:root{
--card-grad: linear-gradient(135deg,#6a5cff,#4fb7ff);
--yellow-grad: linear-gradient(135deg,#ffd84d,#ffb300);
}

body{
font-family:Arial;
background:#eef2f7;
padding:40px;
text-align:center;
}

.container{
background:white;
padding:30px;
border-radius:12px;
width:90%;
margin:auto;
box-shadow:0 8px 20px rgba(0,0,0,0.1);
}

.warning{
background:#fff3cd;
border:1px solid #ffeeba;
padding:15px;
margin-bottom:20px;
border-radius:8px;
color:#856404;
text-align:left;
}

.row{
margin:20px 0;
padding:20px;
border-radius:10px;
}

.row0{ background:#f0f7ff; }
.row1{ background:#e8f1ff; }
.row2{ background:#e9f9ef; }
.row3{ background:#fff1f1; }
.row4{ background:#fff8e1; }
.row5{ background:#f2f2ff; }

.row h3{
text-align:left;
margin-bottom:10px;
}

.controls{
display:flex;
justify-content:space-between;
flex-wrap:wrap;
gap:10px;
}

.controls input,
.controls select,
.controls button{
flex:1;
padding:10px;
border-radius:6px;
border:1px solid #ccc;
}

.controls button{
background:#2c7be5;
color:white;
border:none;
cursor:pointer;
}

.results-grid{
margin-top:20px;
display:grid;
grid-template-columns:repeat(auto-fill,minmax(280px,1fr));
gap:20px;
}

/* CARDS */

.card{
background:var(--card-grad);
color:white;
border-radius:12px;
padding:18px;
box-shadow:0 3px 14px rgba(67,56,202,0.25);
text-align:left;
}

.card-header{
border-bottom:1px solid rgba(255,255,255,0.3);
padding-bottom:8px;
margin-bottom:10px;
}

.card-date{
font-size:1.2rem;
font-weight:800;
}

.card-day{
font-size:0.9rem;
opacity:0.9;
}

/* BIGGER CARDS ROW 3 & 4 */

.row3 .card,
.row4 .card{
padding:24px;
font-size:105%;
}

.row3 table,
.row4 table{
font-size:90%;
}

.center-card{
display:flex;
justify-content:center;
margin-top:20px;
}

/* TABLE */

table{
width:100%;
border-collapse:collapse;
margin-top:10px;
font-size:80%;
background:white;
color:black;
}

th,td{
border:1px solid #ddd;
padding:6px;
text-align:center;
}

th{
background:#2c7be5;
color:white;
}

tr:nth-child(even){
background:#f2f2f2;
}

.no-results{
text-align:center;
padding:20px;
background:white;
border-radius:12px;
color:#555;
}

</style>
</head>

<body>

<div class="container">

<h2>Exam Schedule Portal</h2>
<h3>Select a search method below to find your datesheet</h3>

<div class="warning">
âš  Please verify the exam schedule carefully. Always confirm with the official notification before appearing in the exam. The data are available as per University Letter No. (Exam/D.R./10154) Dated - 27.02.2026.
</div>

<!-- TODAY & TOMORROW PANEL -->

<div class="row row0">

<h3>ðŸ“… EXAM ALERT</h3>

<div class="results-grid">

<div class="card" id="todayCard"></div>
<div class="card" id="tomorrowCard"></div>

</div>

</div>

<!-- SEARCH DATE -->

<div class="row row1">

<h3>SEARCH BY DATE</h3>

<div class="controls">
<input type="date" id="date1">
<button onclick="searchByDate()">Search</button>
</div>

<div id="dateResults"></div>

</div>

<!-- CLASS SUBJECT -->

<div class="row row2">

<h3>SEARCH BY CLASS & SUBJECT</h3>

<div class="controls">

<select id="class2"><option value="">Select Class</option></select>
<select id="subject2"><option value="">Select Subject</option></select>

<button onclick="searchByClassSubject()">Search</button>

</div>

<div id="resultRow2" class="center-card"></div>

</div>

<!-- DATE CLASS -->

<div class="row row3">

<h3>SEARCH BY DATE & CLASS</h3>

<div class="controls">

<input type="date" id="date3">
<select id="class3"><option value="">Select Class</option></select>

<button onclick="searchByDateClass()">Search</button>

</div>

<div id="resultRow3" class="results-grid"></div>

</div>

<!-- PAPER CODE -->

<div class="row row4">

<h3>SEARCH BY PAPER CODE</h3>

<div class="controls">

<select id="code4"><option value="">Select Code</option></select>
<button onclick="searchByCode()">Search</button>

</div>

<div id="resultRow4" class="results-grid"></div>

</div>

<!-- CLASS YEAR SUBJECT -->

<div class="row row5">

<h3>SEARCH BY CLASS, YEAR & SUBJECT</h3>

<div class="controls">

<select id="class5"><option value="">Select Class</option></select>

<select id="year5">
<option value="">Select Year</option>
<option value="1">1st Year</option>
<option value="2">2nd Year</option>
<option value="3">3rd Year</option>
<option value="4">4th Year</option>
</select>

<select id="subject5"><option value="">Select Subject</option></select>

<button onclick="searchClassYearSubject()">Search</button>

</div>

<div id="resultRow5" class="results-grid"></div>

</div>

</div>

<script>

let csvData=[];

Papa.parse("DatesheetSearch.csv",{
download:true,
header:true,
skipEmptyLines:true,

complete:function(results){
csvData=results.data;
populateFilters();
showExamAlert();
}

});

/* POPULATE FILTERS */

function populateFilters(){

const classes=new Set();
const subjects=new Set();
const codes=new Set();

csvData.forEach(r=>{
classes.add(r.Class);
subjects.add(r.Subject);
codes.add(r.Code);
});

classes.forEach(c=>{
class2.innerHTML+=`<option>${c}</option>`;
class3.innerHTML+=`<option>${c}</option>`;
class5.innerHTML+=`<option>${c}</option>`;
});

subjects.forEach(s=>{
subject2.innerHTML+=`<option>${s}</option>`;
subject5.innerHTML+=`<option>${s}</option>`;
});

codes.forEach(c=>{
code4.innerHTML+=`<option>${c}</option>`;
});

}

/* FORMAT DATE */

function formatDisplayDate(date){

const d=new Date(date);

const day=d.getDate();
const month=d.toLocaleString('en-US',{month:'short'});
const year=d.getFullYear().toString().slice(-2);
const weekday=d.toLocaleString('en-US',{weekday:'long'});

return {
date:`${day}-${month}-${year}`,
day:weekday
};

}

/* TODAY + TOMORROW PANEL */

function showExamAlert(){

const todayBox=document.getElementById("todayCard");
const tomorrowBox=document.getElementById("tomorrowCard");

const today=new Date();
const tomorrow=new Date();
tomorrow.setDate(today.getDate()+1);

const todayFormat=formatDisplayDate(today);
const tomorrowFormat=formatDisplayDate(tomorrow);

const todayExams=csvData.filter(r=>r.Date===todayFormat.date);
const tomorrowExams=csvData.filter(r=>r.Date===tomorrowFormat.date);

function buildCard(title,date,day,data){

let html=`
<div class="card-header">
<div class="card-date">${title}</div>
<div class="card-day">${date} (${day})</div>
</div>
`;

if(data.length===0){
html+=`<div class="no-results">No Exams</div>`;
return html;
}

html+=`
<table>
<tr>
<th>S.No</th>
<th>Class</th>
<th>Subject</th>
<th>Shift</th>
</tr>
`;

data.forEach((r,i)=>{

html+=`
<tr>
<td>${i+1}</td>
<td>${r.Class}</td>
<td>${r.Subject}</td>
<td>${r.Shift}</td>
</tr>
`;

});

html+=`</table>`;

return html;

}

todayBox.innerHTML=buildCard(
"TODAY'S EXAMS",
todayFormat.date,
todayFormat.day,
todayExams
);

tomorrowBox.innerHTML=buildCard(
"TOMORROW EXAMS",
tomorrowFormat.date,
tomorrowFormat.day,
tomorrowExams
);

}

/* FORMAT INPUT DATE */

function formatDate(dateInput){

const d=new Date(dateInput);
const day=d.getDate();
const month=d.toLocaleString('en-US',{month:'short'});
const year=d.getFullYear().toString().slice(-2);

return `${day}-${month}-${year}`;

}

/* SEARCH BY DATE */

function searchByDate(){

const date=formatDate(date1.value);
const results=csvData.filter(r=>r.Date===date);

if(results.length===0){
dateResults.innerHTML="<p>No Exam Found</p>";
return;
}

let table=`<table>
<tr>
<th>S.No</th>
<th>Date</th>
<th>Day</th>
<th>Class</th>
<th>Course</th>
<th>Subject</th>
<th>Code</th>
<th>Shift</th>
</tr>`;

results.forEach((r,i)=>{

table+=`<tr>
<td>${i+1}</td>
<td>${r.Date}</td>
<td>${r.Day}</td>
<td>${r.Class}</td>
<td>${r.Course}</td>
<td>${r.Subject}</td>
<td>${r.Code}</td>
<td>${r.Shift}</td>
</tr>`;

});

table+=`</table>`;

dateResults.innerHTML=table;

}

/* CLASS SUBJECT */

function searchByClassSubject(){

const c=class2.value;
const s=subject2.value;

const results=csvData.filter(r=>r.Class===c && r.Subject===s);

displayCards(results,"resultRow2");

}

/* DATE CLASS */

function searchByDateClass(){

const date=formatDate(date3.value);
const c=class3.value;

const results=csvData.filter(r=>r.Date===date && r.Class===c);

displayCards(results,"resultRow3");

}

/* CODE */

function searchByCode(){

const code=code4.value;

const results=csvData.filter(r=>r.Code===code);

displayCards(results,"resultRow4");

}

/* CLASS YEAR SUBJECT */

function searchClassYearSubject(){

const c=class5.value;
const y=year5.value;
const s=subject5.value;

const results=csvData.filter(r=>r.Class===c && r.Subject===s && r.Year===y);

displayCards(results,"resultRow5");

}

/* CARD DISPLAY */

function displayCards(data,id){

const container=document.getElementById(id);
container.innerHTML="";

if(data.length===0){
container.innerHTML=`<div class="no-results">No Exam Found</div>`;
return;
}

data.forEach((r,i)=>{

container.innerHTML+=`

<div class="card">

<div class="card-header">
<div class="card-date">${r.Date}</div>
<div class="card-day">${r.Day}</div>
</div>

<table>

<tr>
<th>S.No</th>
<th>Class</th>
<th>Subject</th>
<th>Shift</th>
</tr>

<tr>
<td>${i+1}</td>
<td>${r.Class}</td>
<td>${r.Subject}</td>
<td>${r.Shift}</td>
</tr>

</table>

</div>

`;

});

}

</script>

</body>
</html>
