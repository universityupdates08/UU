<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Viva Center Finder - University Updates</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <style>
        :root {
            --primary-color: #EF3C3C; /* Crimson Red */
            --secondary-color: #2C4B9E; /* Deep Blue */
            --bg-color: #f8f9fa;
            --text-color: #333;
            --footer-bg: #2C4B9E; /* Deep Blue for footer */
            --footer-text: #ffffff;
        }
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0; /* Remove default body margin */
            padding: 0; /* Remove default body padding */
            min-height: 100vh; /* Ensure full height for sticky footer effect */
            display: flex;
            flex-direction: column;
        }
        .main-content {
            flex-grow: 1; /* Allows main content to fill space */
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 40px auto;
            background: #ffffff;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 30px;
        }
        h1 {
            color: var(--secondary-color);
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 30px;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }
        .form-label {
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
            display: block;
        }
        .form-select, .form-input {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #fff;
            appearance: none;
            cursor: pointer;
            transition: border-color 0.3s, box-shadow 0.3s;
        }
        .form-select:focus, .form-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(239, 60, 60, 0.2);
        }
        
        /* Custom Chevron for Select */
        .select-wrapper {
            position: relative;
        }
        .select-wrapper::after {
            content: "\f0d7"; /* Font Awesome chevron-down */
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            position: absolute;
            top: 50%;
            right: 15px;
            transform: translateY(-50%);
            color: #aaa;
            pointer-events: none;
        }

        /* Result Card Styling */
        #result-card {
            margin-top: 40px;
            padding: 30px; 
            border-radius: 12px;
            color: white;
            /* Gradient for an exciting look */
            background: linear-gradient(135deg, #FF6B6B 0%, #E63946 100%); 
            box-shadow: 0 10px 20px rgba(230, 57, 70, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.5); /* Inner shine */
            text-align: left;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
            /* Added position: relative for absolute positioning of branding/note */
            position: relative; 
            padding-bottom: 75px; /* INCREASED SPACE for two separate lines at the bottom */
        }
        #result-card.show {
            opacity: 1;
            transform: translateY(0);
        }
        .result-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 15px; 
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        .result-item {
            font-size: 1.1rem; /* Base font size */
            font-weight: 400;
            margin-bottom: 12px; /* Increased margin for better vertical separation */
            display: flex;
            align-items: flex-start; /* Aligns content to the top if it wraps */
            line-height: 1.4; /* Improved readability for wrapped text */
        }
        .result-item i {
            margin-right: 10px;
            color: #FFD700; /* Gold color for icons */
            width: 20px; /* Fixed width for alignment */
            text-align: center;
            margin-top: 3px; /* Adjust alignment */
        }
        
        /* STYLES for Branding (BOTTOM LINE) */
        #result-branding {
            position: absolute;
            bottom: 10px; /* Closer to the bottom */
            right: 20px;
            font-size: 0.75rem; /* Small size */
            font-style: italic; /* Italic */
            color: rgba(255, 255, 255, 0.7); /* Slightly transparent white */
            pointer-events: none; /* Prevents interaction */
        }

        /* STYLES for Centered Note (LINE ABOVE BRANDING) */
        #result-note {
            position: absolute;
            bottom: 35px; /* Positioned above the branding */
            left: 0;
            right: 0;
            text-align: center;
            font-size: 0.8rem; 
            font-style: italic;
            color: rgba(255, 255, 255, 0.85);
            pointer-events: none;
            padding: 0 20px; 
        }

        /* New Utility Bar & Footer Styles */
        .utility-bar {
            background-color: var(--primary-color);
            color: white;
            padding: 8px 20px;
            font-size: 0.9rem;
        }
        .utility-link:hover {
            text-decoration: underline;
            opacity: 0.8;
        }
        .footer {
            background-color: var(--footer-bg);
            color: var(--footer-text);
            padding: 40px 20px 20px 20px;
            margin-top: 40px;
        }
        .social-icon {
            color: white;
            font-size: 1.5rem;
            transition: color 0.3s;
        }
        .social-icon:hover {
            color: var(--primary-color); /* Hover effect using primary color */
        }
        
        /* --- MOBILE-SPECIFIC STYLES FOR RESPONSIVENESS --- */
        @media (max-width: 640px) {
            /* Reduce overall padding on smaller screens */
            .container {
                padding: 20px;
                margin: 20px auto;
            }
            /* Reduce padding and font sizes for a compact result card */
            #result-card {
                padding: 20px; 
                padding-bottom: 65px; /* Adjusted padding for two lines on mobile */
            }
            .result-title {
                font-size: 1.5rem; 
                margin-bottom: 10px;
            }
            .result-item {
                font-size: 1rem; /* Smaller text for better fit */
                margin-bottom: 8px; 
            }
            .result-item i {
                 font-size: 1rem; /* Match icon size to text size */
            }
            /* Structure for label (bold) and value to prevent overflow */
            .result-item b {
                display: block; 
                min-width: 80px; /* Minimum width for label */
                margin-right: 5px; 
                flex-shrink: 0; 
            }
            .result-item > p:last-child {
                /* Ensures the value part flows correctly and wraps long text */
                flex-grow: 1; 
                word-wrap: break-word; 
                overflow-wrap: break-word;
            }
            /* Adjust branding position for smaller screens */
            #result-branding {
                right: 15px;
                bottom: 8px;
                font-size: 0.65rem;
            }
            /* Adjust note position for smaller screens */
            #result-note {
                font-size: 0.7rem;
                bottom: 25px; /* Position above branding */
                padding: 0 10px; /* Minimal side padding */
            }
        }
        /* --- END OF MOBILE-SPECIFIC STYLES --- */
    </style>
</head>
<body>

    <header class="utility-bar">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex space-x-4">
                <a href="#" class="utility-link"><i class="fas fa-home mr-1"></i> Home</a>
                <a href="https://t.me/HelpforDMBot" class="utility-link"><i class="fas fa-headset mr-1"></i> Contact Us</a>
            </div>
            <div class="flex items-center space-x-4">
                <a href="https://t.me/CCSUniversityMRT" class="social-icon text-sm hover:text-gray-300 transition"><i class="fab fa-telegram"></i></a>
                <span class="mx-2">|</span>
                <a href="https://whatsapp.com/channel/0029Va9jtav4tRrmKPxos138" class="social-icon text-sm hover:text-gray-300 transition"><i class="fab fa-whatsapp"></i></a>
                <span class="mx-2">|</span>
                <a href="https://instagram.com/universityupdate_uu" class="social-icon text-sm hover:text-gray-300 transition"><i class="fab fa-instagram"></i></a>
                <span class="mx-2">|</span>
                <a href="https://www.youtube.com/@University-Updates-UU" class="social-icon text-sm hover:text-gray-300 transition"><i class="fab fa-youtube"></i></a>
                <span class="mx-2">|</span>
                <button id="theme-toggle" class="utility-link p-1 rounded hover:bg-white hover:text-primary-color transition" title="Toggle Day/Night Mode">
                    <i class="fas fa-moon" id="theme-icon"></i>
                </button>
            </div>
        </div>
    </header>

    <div class="main-content">
        <div class="container">
            <h1 class="text-center flex items-center justify-center gap-2">
                <i class="fas fa-search-location"></i> Viva Center Finder
            </h1>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                
                <div class="select-wrapper">
                    <label for="course" class="form-label">1. Select Course</label>
                    <select id="course" class="form-select">
                        <option value="">-- Select Course --</option>
                        <option value="MCom">M.Com.</option>
                        <option value="MA">M.A.</option>
                    </select>
                </div>
                
                <div class="select-wrapper">
                    <label for="district" class="form-label">2. Select District</label>
                    <select id="district" class="form-select" disabled>
                        <option value="">-- Select District (Choose Course First) --</option>
                        <option value="Baghpat">Baghpat</option>
                        <option value="Bulandshahar">Bulandshahar</option>
                        <option value="GautamBuddhNagar">Gautam Buddh Nagar (Noida)</option>
                        <option value="Ghaziabad">Ghaziabad</option>
                        <option value="Hapur">Hapur</option>
                        <option value="Meerut">Meerut</option>
                    </select>
                </div>

                <div class="select-wrapper">
                    <label for="college" class="form-label">3. Select College</label>
                    <select id="college" class="form-select" disabled>
                        <option value="">-- Select College (Choose District First) --</option>
                    </select>
                </div>
                
                <div class="select-wrapper">
                    <label for="subject" class="form-label">4. Select Subject</label>
                    <select id="subject" class="form-select" disabled>
                        <option value="">-- Select Subject (Choose College First) --</option>
                    </select>
                </div>

                
                <button id="search-btn" class="md:col-span-2 mt-4 py-3 px-6 text-white font-semibold rounded-lg shadow-md transition transform hover:scale-[1.02]" 
                        style="background-color: var(--secondary-color); hover: background-color: #203a7a;">
                    <i class="fas fa-calendar-alt mr-2"></i> Find Viva Center & Date
                </button>
            </div>

            <div id="result-card" class="hidden">
                <p class="result-title"><i class="fas fa-check-circle"></i> Viva Examination Details</p>
                <div id="result-content">
                    </div>
                <div id="result-note"><b>Note:</b> Always confirm dates and centers with your respective college/center administration.</div>
                <div id="result-branding">Powered by University Updates</div>
            </div>

        </div>
    </div>


    <footer class="footer">
        <div class="max-w-7xl mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-6">
                
                <div><div class="text-center">
                    <h3 class="text-xl font-bold mb-3 border-b-2 border-primary-color pb-1 inline-block">Disclaimer</h3>
                    <div class="text-justify">
                    <p class="text-sm opacity-90">
                        The Viva Center and Date information provided here is sourced from the college's & center's recent official notices and is for informational purposes only. Students must <b>always confirm</b> the details from their respective college administration. We are not responsible for any last-minute changes or inaccuracies. Not affiliated with or endorsed by CCSU.
                    </p>
                </div></div></div>

                <div>
                <div class="text-center">
                    <h3 class="text-xl font-bold mb-3 border-b-2 border-primary-color pb-1 inline-block">Quick Links</h3>
                    <ul class="space-y-1 text-sm">
                        <li><a href="#" class="hover:text-primary-color transition">Center List</a></li>
                        <li><a href="https://ccsuniversity.ac.in" class="hover:text-primary-color transition">University Official Website</a></li>
                        <li><a href="https://t.me/HelpforDMBot" class="hover:text-primary-color transition">Contact Us</a></li>
                        </ul>
                </div></div>


                <div><div class="text-center">
                    <h3 class="text-xl font-bold mb-3 border-b-2 border-primary-color pb-1 inline-block">Connect With Us</h3>
                    <div class="flex space-x-4 justify-center">
                        <a href="https://whatsapp.com/channel/0029Va9jtav4tRrmKPxos138" class="social-icon" title="Whatsapp"><i class="fab fa-whatsapp"></i></a>
                        <a href="https://t.me/CCSUniversityMRT" class="social-icon" title="Telegram"><i class="fab fa-telegram-plane"></i></a>
                        <a href="https://instagram.com/universityupdate_uu" class="social-icon" title="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://www.youtube.com/@University-Updates-UU" class="social-icon" title="YouTube"><i class="fab fa-youtube"></i></a>
                    </div></div>
                </div>
            </div>

            <div class="text-center pt-4 border-t border-white border-opacity-30">
                <p class="text-sm opacity-70">
                    &copy; 2025 University Updates. All rights reserved.
                </p>
            </div>
        </div>
    </footer>


    <script>
        // --- MASTER DATA STRUCTURE ---
        const MASTER_SUBJECTS = {
            "MCom": [
                { name: "Commerce", code: "I-304", key: "MComCommerce" }
            ],
            "MA": [
                { name: "Defence Studies", code: "G-895", key: "MADefence" },
                { name: "Economics", code: "G-806", key: "MAEconomics" },
                { name: "Education", code: "G-803", key: "MAEducation" },
                { name: "English", code: "G-812", key: "MAEnglish" },
                { name: "Hindi", code: "G-825", key: "MAHindi" },
                { name: "History", code: "G-837", key: "MAHistory" },
                { name: "Mathematics", code: "G-850", key: "MAMathematics" },
                { name: "Philosophy", code: "G-845", key: "MAPhilosophy" },
                { name: "Political Science", code: "G-870", key: "MAPoliticalScience" },
                { name: "Sanskrit", code: "G-882", key: "MASanskrit" },
                { name: "Sociology", code: "G-887", key: "MASociology" },
                { name: "Urdu", code: "G-862", key: "MAUrdu" }
            ]
        };
        
        // Helper map to quickly find subject info by its key
        const SUBJECT_KEY_MAP = {};
        Object.keys(MASTER_SUBJECTS).forEach(course => {
            MASTER_SUBJECTS[course].forEach(subj => {
                SUBJECT_KEY_MAP[subj.key] = subj;
            });
        });


        // --- COLLEGE DATA (INTEGRATED LIVE NOTICE DATA) ---
        // key: [College Code] - [College Name]
        // courses: array of subject keys (e.g., "MAHistory")
        // viva: object where keys are subject keys, and value is { center: "...", date: "..." }
        const DATA = {
            "Baghpat": {
                "003-DJ College, Baraut": {
                    name: "003-DJ College, Baraut",
                    courses: ["MAHistory", "MAEnglish", "MAHindi", "MASanskrit", "MAMathematics", "MADefence", "MA Economics", "MComCommerce"],
                    viva: { 
                        "MAHistory": { center: "DJ College, Baraut", date: "20.05.2025" },
                        "MAEnglish": { center: "DJ College, Baraut", date: "02.06.2025" },
                        "MAHindi": { center: "DJ College, Baraut", date: "11.06.2025" },
                        "MASanskrit": { center: "DJ College, Baraut", date: "06.06.2025" },
                        "MAMathematics": { center: "DJ College, Baraut", date: "09.06.2025" },
                        "MComCommerce": { center: "DJ College, Baraut", date: "09.06.2025" }
                    }
                },
                "095-Janta Vedic College, Baraut": {
                    name: "Janta Vedic College, Baraut",
                    courses: ["MAPoliticalScience", "MAHindi", "MASociology"],
                    viva: { 
                        "MAPoliticalScience": { center: "Janta Vedic College, Baraut", date: "26.05.2025" },
                        "MAHindi": { center: "Janta Vedic College, Baraut", date: "28.05.2025" },
                        "MASociology": { center: "Janta Vedic College, Baraut", date: "09 & 10 June 2025" }
                    }
                }
            },
            "Bulandshahar": {
                "0001-D.P.B.S. Degree College, Anoopshahar": {
                    name: "D.P.B.S. Degree College, Anoopshahar",
                    courses: ["MASanskrit", "MComCommerce"],
                    viva: { "MASanskrit": { center: "D.P.B.S. Degree College, Anoopshahar", date: "28.04.2025" } }
                },
                "0006-DAV PG College, Bulandshahr": {
                    name: "DAV PG College, Bulandshahr",
                    courses: ["MAHistory", "MAEconomics", "MAPoliticalScience", "MAEnglish", "MAHindi", "MComCommerce"],
                    viva: { 
                        "MAHistory": { center: "DAV PG College, Bulandshahr", date: "02.05.2025" },
                        "MAEconomics": { center: "DAV PG College, Bulandshahr", date: "03.05.2025" },
                        "MAPoliticalScience": { center: "DAV PG College, Bulandshahr", date: "05.05.2025" },
                        "MAEnglish": { center: "DAV PG College, Bulandshahr", date: "06.05.2025" },
                        "MAHindi": { center: "DAV PG College, Bulandshahr", date: "07.05.2025" }
                    }
                },
                "0007-IP College, Bulandshahr": {
                    name: "IP College, Bulandshahr",
                    courses: ["MComCommerce"],
                    viva: { "MComCommerce": { center: "IP College, Bulandshahar", date: "05.05.2025" } }
                },
                "0042-NREC College, Khurja": {
                    name: "NREC College, Khurja",
                    courses: ["MASociology", "MAHistory", "MAPoliticalScience", "MAHindi", "MAMathematics", "MAEnglish", "MComCommerce"],
                    viva: { 
                        "MASociology": { center: "NREC College, Khurja", date: "30.04.2025 (for College Code 0006 & 0042)" },
                        "MAHistory": { center: "NREC College, Khurja", date: "03.05.2025 (For College code 0042)" },
                        "MAPoliticalScience": { center: "NREC College, Khurja", date: "08.05.2025" },
                        "MAHindi": { center: "NREC College, Khurja", date: "14.05.2025" },
                        "MAMathematics": { center: "NREC College, Khurja", date: "16.05.2025" },
                        "MAEnglish": { center: "NREC College, Khurja", date: "16.05.2025" },
                        "MComCommerce": { center: "NREC College, Khurja", date: "15.05.2025" }
                    }
                },
                "0093-Agrasen PG College, Bulandshahar": {
                    name: "Agrasen PG College, Bulandshahar",
                    courses: ["MComCommerce"],
                    viva: { "MComCommerce": { center: "Agrasen PG College, Bulandshahar", date: "05.05.2025" } }
                }
            },
            "GautamBuddhNagar": {
                // Mocking a placeholder, linking to Ghaziabad center dates as per common practice.
                "100-Placeholder College, Noida": {
                    name: "Placeholder College, Noida",
                    courses: ["MComCommerce", "MAEconomics", "MAEnglish"],
                    viva: { 
                         "MComCommerce": { center: "M.M.H. College, Ghaziabad", date: "08.05.2025 (Other Colleges)" },
                         "MAEnglish": { center: "M.M.H. College, Ghaziabad", date: "16.05.2025" },
                         "MAEconomics": { center: "M.M.H. College, Ghaziabad", date: "21.05.2025" }
                    }
                }
            },
            "Ghaziabad": {
                "0024-S.D. PG College, Ghaziabad": {
                    name: "S.D. PG College, Ghaziabad",
                    courses: ["MAHistory", "MASociology", "MAHindi", "MAPoliticalScience", "MComCommerce"],
                    viva: { 
                        "MAHistory": { center: "S.D. PG College, Ghaziabad", date: "26.04.2025" },
                        "MASociology": { center: "S.D. PG College, Ghaziabad", date: "26.04.2025" },
                        "MAHindi": { center: "S.D. PG College, Ghaziabad", date: "26.04.2025" },
                        "MAPoliticalScience": { center: "S.D. PG College, Ghaziabad", date: "26.04.2025" }
                    }
                },
                "0019-M.M.H. College, Ghaziabad": {
                    name: "M.M.H. College, Ghaziabad",
                    courses: ["MComCommerce", "MASociology", "MAHistory", "MAPoliticalScience", "MASanskrit", "MAEnglish", "MAHindi", "MAMathematics", "MAEconomics"],
                    viva: { 
                        "MComCommerce": { center: "M.M.H. College, Ghaziabad", date: "07.05.2025 (For College Code 019)" },
                        "MASociology": { center: "M.M.H. College, Ghaziabad", date: "07.05.2025" },
                        "MAHistory": { center: "M.M.H. College, Ghaziabad", date: "14 & 15 May 2025" },
                        "MAPoliticalScience": { center: "M.M.H. College, Ghaziabad", date: "13.05.2025" },
                        "MASanskrit": { center: "M.M.H. College, Ghaziabad", date: "08.05.2025" },
                        "MAEnglish": { center: "M.M.H. College, Ghaziabad", date: "16.05.2025" },
                        "MAHindi": { center: "M.M.H. College, Ghaziabad", date: "15.05.2025" },
                        "MAMathematics": { center: "M.M.H. College, Ghaziabad", date: "15.05.2025" },
                        "MAEconomics": { center: "M.M.H. College, Ghaziabad", date: "21.05.2025" }
                    }
                },
                "0029-LR College, Ghaziabad": {
                    name: "LR College, Ghaziabad",
                    courses: ["MComCommerce"],
                    viva: { "MComCommerce": { center: "LR College, Ghaziabad", date: "16.05.2025 (for LR College)" } }
                },
                "0035-VMLG College, Ghaziabad": {
                    name: "VMLG College, Ghaziabad",
                    courses: ["MAPoliticalScience", "MComCommerce"],
                    viva: { "MAPoliticalScience": { center: "VMLG College, Ghaziabad", date: "14.05.2025" } }
                }
            },
            "Hapur": {
                "0028-SSV College, Hapur": {
                    name: "SSV College, Hapur",
                    courses: ["MAEconomics", "MAMathematics", "MAPoliticalScience", "MAEnglish", "MComCommerce", "MAHindi", "MAEducation"],
                    viva: { 
                        "MAEconomics": { center: "SSV College, Hapur", date: "15.05.2025" },
                        "MAMathematics": { center: "SSV College, Hapur", date: "14.05.2025" },
                        "MAPoliticalScience": { center: "SSV College, Hapur", date: "20 & 21 May 2025" },
                        "MAEnglish": { center: "SSV College, Hapur", date: "23.05.2025" },
                        "MComCommerce": { center: "SSV College, Hapur", date: "21.05.2025" },
                        "MAHindi": { center: "SSV College, Hapur", date: "26 & 27 May, 2025" }
                    }
                },
                "0041-Arya Kanya PG College, Hapur": {
                    name: "Arya Kanya PG College, Hapur",
                    courses: ["MAEducation"],
                    viva: { "MAEducation": { center: "Arya Kanya PG College, Hapur", date: "18.05.2025" } }
                }
            },
            "Meerut": {
                "0055-Meerut College, Meerut": {
                    name: "Meerut College, Meerut",
                    courses: Object.keys(SUBJECT_KEY_MAP), // Assume all subjects for "All Subject" notice
                    viva: { 
                        "MAHistory": { center: "Meerut College, Meerut", date: "27.04.2025" },
                        "MComCommerce": { center: "Meerut College, Meerut", date: "27.04.2025" },
                        "MAEnglish": { center: "Meerut College, Meerut", date: "27.04.2025" },
                        "MAPoliticalScience": { center: "Meerut College, Meerut", date: "27.04.2025" },
                        "MAEconomics": { center: "Meerut College, Meerut", date: "27.04.2025" },
                        "MASociology": { center: "Meerut College, Meerut", date: "27.04.2025" },
                        "MAHindi": { center: "Meerut College, Meerut", date: "27.04.2025" },
                        "MAMathematics": { center: "Meerut College, Meerut", date: "27.04.2025" },
                        "MASanskrit": { center: "Meerut College, Meerut", date: "27.04.2025" },
                        "MADefence": { center: "Meerut College, Meerut", date: "27.04.2025" },
                        "MAEducation": { center: "Meerut College, Meerut", date: "27.04.2025" },
                        "MAPhilosophy": { center: "Meerut College, Meerut", date: "27.04.2025" },
                        "MAUrdu": { center: "Meerut College, Meerut", date: "27.04.2025" }
                    }
                },
                "0062-Multanimal Modi College, Modinagar": {
                    name: "Multanimal Modi College, Modinagar",
                    courses: ["MComCommerce", "MAHistory", "MAPoliticalScience", "MAEnglish", "MAEconomics"],
                    viva: { 
                        "MComCommerce": { center: "Multanimal Modi College, Modinagar", date: "28.04.2025" },
                        "MAHistory": { center: "Multanimal Modi College, Modinagar", date: "20.05.2025 (Revised)" },
                        "MAPoliticalScience": { center: "Multanimal Modi College, Modinagar", date: "21.05.2025" },
                        "MAEnglish": { center: "Multanimal Modi College, Modinagar", date: "26.05.2025", time: "10:00 AM" },
                        "MAEconomics": { center: "Multanimal Modi College, Modinagar", date: "26.05.2025", time: "10:00 AM" }
                    }
                },
                "0058-RG PG College, Meerut": {
                    name: "RG PG College, Meerut",
                    courses: ["MAPoliticalScience", "MAEconomics", "MAEnglish", "MASociology", "MAHindi", "MAHistory"],
                    viva: { 
                        "MAPoliticalScience": { center: "RG PG College, Meerut", date: "02.05.2025 (For College Code - 058, 060, 070, 085, 098)" },
                        "MAEconomics": { center: "RG PG College, Meerut", date: "06.05.2025", time: "10:00 AM" },
                        "MAEnglish": { center: "RG PG College, Meerut", date: "06 & 07 May 2025", time: "10:00 AM" },
                        "MASociology": { center: "RG PG College, Meerut", date: "07 & 08 May 2025", time: "10:00 AM" },
                        "MAHindi": { center: "RG PG College, Meerut", date: "05.05.2025", time: "10:00 AM" },
                        "MAHistory": { center: "RG PG College, Meerut", date: "09.05.2025", time: "10:00 AM" }
                    }
                },
                "0053-IN PG College, Meerut": {
                    name: "IN PG College, Meerut",
                    courses: ["MAUrdu"],
                    viva: { "MAUrdu": { center: "IN PG College, Meerut", date: "09.05.2025", time: "10:00 AM" } }
                },
                "0048-DN PG College, Meerut": {
                    name: "DN PG College, Meerut",
                    courses: ["MComCommerce"],
                    viva: { "MComCommerce": { center: "DN PG College, Meerut", date: "30.05.2025", time: "10:00 AM" } }
                }
            }
        };

        // --- DOM Elements ---
        const courseSelect = document.getElementById('course');
        const districtSelect = document.getElementById('district');
        const collegeSelect = document.getElementById('college');
        const subjectSelect = document.getElementById('subject');
        const searchBtn = document.getElementById('search-btn');
        const resultCard = document.getElementById('result-card');
        const resultContent = document.getElementById('result-content');
        // New DOM Elements for Utility Bar
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = document.getElementById('theme-icon');

        // --- HELPER FUNCTION: Reset all fields after a change ---
        function resetFields(level) {
            resultCard.classList.remove('show');
            resultCard.classList.add('hidden');

            if (level === 'course') {
                districtSelect.value = "";
                districtSelect.disabled = true;
                collegeSelect.innerHTML = '<option value="">-- Select College (Choose District First) --</option>';
                collegeSelect.disabled = true;
                subjectSelect.innerHTML = '<option value="">-- Select Subject (Choose College First) --</option>';
                subjectSelect.disabled = true;
            } 
            if (level === 'district') {
                collegeSelect.innerHTML = '<option value="">-- Select College (Choose District First) --</option>';
                collegeSelect.disabled = true;
                subjectSelect.innerHTML = '<option value="">-- Select Subject (Choose College First) --</option>';
                subjectSelect.disabled = true;
            } 
            if (level === 'college') {
                subjectSelect.innerHTML = '<option value="">-- Select Subject (Choose College First) --</option>';
                subjectSelect.disabled = true;
            }
        }

        // --- FUNCTIONS ---

        // 1. Enable District Selection after Course is chosen
        function enableDistrictSelection() {
            const course = courseSelect.value;
            resetFields('course');

            if (course) {
                districtSelect.disabled = false;
                districtSelect.value = ""; // Force reset district to select placeholder
            }
        }

        // 2. Update College Dropdown based on Course AND District
        function updateColleges() {
            const course = courseSelect.value;
            const district = districtSelect.value;
            
            resetFields('district');

            if (district && course) {
                const colleges = DATA[district];
                let collegesFound = false;

                for (const key in colleges) {
                    const collegeData = colleges[key];
                    
                    // Filter colleges: A college must offer *any* subject under the selected Course (M.A. or M.Com)
                    const relevantSubjects = MASTER_SUBJECTS[course];
                    const offersCourse = relevantSubjects.some(subj => collegeData.courses.includes(subj.key));

                    if (offersCourse) {
                        const option = document.createElement('option');
                        option.value = key; // College Key (Code-Name)
                        option.textContent = collegeData.name;
                        collegeSelect.appendChild(option);
                        collegesFound = true;
                    }
                }
                
                if (collegesFound) {
                    collegeSelect.disabled = false;
                } else {
                    collegeSelect.innerHTML = '<option value="">-- No Colleges in this District offer this course --</option>';
                }
            }
        }

        // 3. Update Subject Dropdown based on College selection
        function updateSubjects() {
            const course = courseSelect.value;
            const collegeKey = collegeSelect.value;
            const district = districtSelect.value;

            resetFields('college');

            if (district && collegeKey && course) {
                const collegeData = DATA[district][collegeKey];
                const availableSubjectKeys = collegeData.courses;
                const relevantSubjects = MASTER_SUBJECTS[course];
                
                subjectSelect.innerHTML = '<option value="">-- Select Subject --</option>';
                let subjectsFound = false;

                // Iterate through the master list of subjects for the selected course (M.A. or M.Com)
                relevantSubjects.forEach(masterSubj => {
                    // Check if this specific college offers this specific subject key
                    if (availableSubjectKeys.includes(masterSubj.key)) {
                        const option = document.createElement('option');
                        option.value = masterSubj.key; // Subject Key (e.g., MAHistory)
                        option.textContent = `${masterSubj.name} (${masterSubj.code})`;
                        subjectSelect.appendChild(option);
                        subjectsFound = true;
                    }
                });

                if (subjectsFound) {
                    subjectSelect.disabled = false;
                } else {
                    subjectSelect.innerHTML = '<option value="">-- No Subjects found for this course at this college --</option>';
                }
            }
        }

        // 4. Display Viva Result
        function findVivaCenter() {
            const course = courseSelect.value;
            const subjectKey = subjectSelect.value;
            const district = districtSelect.value;
            const collegeKey = collegeSelect.value;

            resultCard.classList.remove('show');
            resultCard.classList.add('hidden');
            
            // Validation
            if (!course || !subjectKey || !district || !collegeKey) {
                alert("Please make a selection for all four fields.");
                return;
            }

            // Get subject details
            const subjectInfo = SUBJECT_KEY_MAP[subjectKey];

            // Fetch result data
            const collegeData = DATA[district][collegeKey];
            const result = collegeData.viva[subjectKey];

            if (!result) {
                alert(`Error: Viva date not found for ${subjectInfo.name} at ${collegeData.name}.`);
                return;
            }
            
            // Construct Result HTML
            // Note: The structure uses <p> inside <div>.
            const timeDisplay = result.time ? `${result.time}` : 'Not Specified';

            resultContent.innerHTML = `
                <div class="result-item"><i class="fas fa-graduation-cap"></i> <p><b>Course:</b> ${course} (${subjectInfo.name})</p></div>
                <div class="result-item"><i class="fas fa-tag"></i> <p><b>Subject Code:</b> ${subjectInfo.code}</p></div>
                <div class="result-item"><i class="fas fa-university"></i> <p><b>College:</b> ${collegeData.name} </p></div>
                <div class="result-item"><i class="fas fa-map-marker-alt"></i> <p><b>Viva Center:</b> ${result.center}</p></div>
                <div class="result-item"><i class="fas fa-calendar-day"></i> <p><b>Date:</b> ${result.date} </p></div>
                <div class="result-item"><i class="fas fa-clock"></i> <p><b>Reporting Time:</b> ${timeDisplay}</p></div>
                
            `;


            // Display the Card
            resultCard.classList.remove('hidden');
            resultCard.classList.add('show');
        }

        // --- NEW: Theme Toggle Functionality ---
        function toggleTheme() {
            const isDark = document.body.classList.toggle('dark-mode');
            
            if (isDark) {
                // Apply dark mode styles by changing CSS variables
                document.documentElement.style.setProperty('--bg-color', '#1f2937'); /* Dark Gray */
                document.documentElement.style.setProperty('--text-color', '#f8f9fa'); /* Light White */
                document.documentElement.style.setProperty('--footer-bg', '#111827'); /* Even Darker Gray for Footer */
                
                // Update specific elements that need styling adjustment
                document.querySelector('.container').style.backgroundColor = '#374151'; // Slightly lighter dark container
                document.querySelector('.container').style.boxShadow = '0 10px 30px rgba(255, 255, 255, 0.1)';
                document.querySelector('h1').style.color = '#bfdbfe'; // Light Blue for heading
                document.querySelectorAll('.form-label').forEach(el => el.style.color = '#f8f9fa');
                document.querySelectorAll('.form-select, .form-input').forEach(el => {
                    el.style.backgroundColor = '#4b5563';
                    el.style.borderColor = '#6b7280';
                    el.style.color = '#f8f9fa';
                });

                // Update icon
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');

            } else {
                // Reset to light mode styles
                document.documentElement.style.setProperty('--bg-color', '#f8f9fa');
                document.documentElement.style.setProperty('--text-color', '#333');
                document.documentElement.style.setProperty('--footer-bg', '#2C4B9E'); 

                // Reset specific elements
                document.querySelector('.container').style.backgroundColor = '#ffffff';
                document.querySelector('.container').style.boxShadow = '0 10px 30px rgba(0, 0, 0, 0.1)';
                document.querySelector('h1').style.color = 'var(--secondary-color)';
                document.querySelectorAll('.form-label').forEach(el => el.style.color = '#333');
                document.querySelectorAll('.form-select, .form-input').forEach(el => {
                    el.style.backgroundColor = '#fff';
                    el.style.borderColor = '#ddd';
                    el.style.color = '#333';
                });

                // Update icon
                themeIcon.classList.remove('fa-sun');
                themeIcon.classList.add('fa-moon');
            }
        }
        
        // --- EVENT LISTENERS ---
        courseSelect.addEventListener('change', enableDistrictSelection);
        districtSelect.addEventListener('change', updateColleges);
        collegeSelect.addEventListener('change', updateSubjects); // New primary trigger for subjects
        
        subjectSelect.addEventListener('change', () => {
             // Simply resets result card when subject selection changes
             resultCard.classList.remove('show');
             resultCard.classList.add('hidden');
        });
        
        searchBtn.addEventListener('click', findVivaCenter);

        // New Event Listener for Theme Toggle
        themeToggle.addEventListener('click', toggleTheme);
    </script>
</body>
</html>
